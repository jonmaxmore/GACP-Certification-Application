# ========================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ========================================
# Copy to .env.production and fill with actual production values
# NEVER commit .env.production to git!

# ========================================
# Environment
# ========================================
NODE_ENV=production
PORT=8080

# ========================================
# Database - MongoDB Atlas (Production)
# ========================================
# Get from: https://cloud.mongodb.com
MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/botanical-audit?retryWrites=true&w=majority
MONGODB_TEST_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/botanical-audit-test?retryWrites=true&w=majority

# ========================================
# Redis / Queue / Cache - Upstash (Production)
# ========================================
# Get from: https://console.upstash.com
REDIS_URL=https://eu1-upstash.io/xxxxx
REDIS_TOKEN=xxxxx
REDIS_PASSWORD=xxxxx

# ========================================
# Authentication - Firebase
# ========================================
# Get from: https://console.firebase.google.com
FIREBASE_PROJECT_ID=botanical-audit-prod
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@botanical-audit-prod.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# JWT Secrets (Generate strong secrets: openssl rand -base64 32)
FARMER_JWT_SECRET=CHANGE_THIS_TO_STRONG_SECRET_MIN_32_CHARS
DTAM_JWT_SECRET=CHANGE_THIS_TO_STRONG_SECRET_MIN_32_CHARS
JWT_EXPIRES_IN=7d

# ========================================
# Cloud Storage - AWS S3 (or Cloudflare R2)
# ========================================
# Get from: https://console.aws.amazon.com/s3
AWS_ACCESS_KEY_ID=AKIAxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_S3_BUCKET=botanical-audit-documents
AWS_REGION=ap-southeast-1
AWS_CLOUDFRONT_URL=https://xxxxxx.cloudfront.net

# Alternative: Cloudflare R2 (S3-compatible)
# R2_ACCOUNT_ID=xxxxx
# R2_ACCESS_KEY_ID=xxxxx
# R2_SECRET_ACCESS_KEY=xxxxx
# R2_BUCKET=botanical-audit
# R2_PUBLIC_URL=https://pub-xxxxx.r2.dev

# ========================================
# Email Service - Resend / SendGrid
# ========================================
# Option 1: Resend (Recommended) - https://resend.com
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=noreply@botanical-audit.com

# Option 2: SendGrid - https://sendgrid.com
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxx

# Option 3: SMTP (Generic)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ========================================
# SMS Service - Twilio
# ========================================
# Get from: https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+1234567890

# ========================================
# Notifications - LINE Notify
# ========================================
# Get from: https://notify-bot.line.me
LINE_NOTIFY_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# Monitoring & Error Tracking - Sentry
# ========================================
# Get from: https://sentry.io
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ========================================
# Logging - Winston + Logtail
# ========================================
# Get from: https://betterstack.com/logtail
LOGTAIL_SOURCE_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/botanical-audit

# ========================================
# AI Services
# ========================================
# Google Gemini AI - https://ai.google.dev
GEMINI_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OpenAI (if needed) - https://platform.openai.com
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# Google Calendar Integration
# ========================================
# Get from: https://console.cloud.google.com
GOOGLE_CLIENT_ID=xxxxx-xxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxxxxxxxxxx
GOOGLE_REDIRECT_URI=https://api.botanical-audit.com/auth/google/callback
GOOGLE_CALENDAR_ID=primary

# ========================================
# Payment Gateway - Stripe
# ========================================
# Get from: https://dashboard.stripe.com
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# External APIs
# ========================================
# OpenWeatherMap - https://openweathermap.org/api
OPENWEATHER_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Agora Video Call - https://console.agora.io
AGORA_APP_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AGORA_APP_CERTIFICATE=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# Security Configuration
# ========================================
# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
STRICT_RATE_LIMIT_MAX_REQUESTS=20  # For login/sensitive endpoints

# Bcrypt
BCRYPT_ROUNDS=12

# CORS
ALLOWED_ORIGINS=https://botanical-audit.com,https://www.botanical-audit.com,https://admin.botanical-audit.com

# Session
SESSION_SECRET=CHANGE_THIS_TO_STRONG_SECRET_MIN_32_CHARS

# ========================================
# Frontend URLs
# ========================================
NEXT_PUBLIC_API_URL=https://api.botanical-audit.com
FRONTEND_URL=https://botanical-audit.com
ADMIN_URL=https://admin.botanical-audit.com

# ========================================
# Feature Flags
# ========================================
ENABLE_AI_QC=true
ENABLE_GOOGLE_CALENDAR=true
ENABLE_QUEUE=true
ENABLE_SCHEDULER=true
ENABLE_CACHE=true
ENABLE_SWAGGER=false  # Disable in production for security
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true

# ========================================
# Queue & Cache Configuration
# ========================================
# Queue Retry Attempts
AI_QC_RETRY_ATTEMPTS=3
EMAIL_RETRY_ATTEMPTS=5
CALENDAR_RETRY_ATTEMPTS=3
REPORT_RETRY_ATTEMPTS=2

# Cache TTL (seconds)
CACHE_AI_QC_TTL=3600          # 1 hour
CACHE_INSPECTOR_TTL=900        # 15 minutes
CACHE_APPLICATION_TTL=300      # 5 minutes
CACHE_STATISTICS_TTL=600       # 10 minutes

# ========================================
# AWS Secrets Manager (Optional - for enterprise)
# ========================================
USE_AWS_SECRETS=false
AWS_SECRET_NAME=botanical-audit/production

# ========================================
# Health Check URLs (for monitoring)
# ========================================
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
MONGODB_HEALTH_TIMEOUT=5000
REDIS_HEALTH_TIMEOUT=3000
