# =================================
# GACP Platform - Cloud Database Configuration
# Created: October 15, 2025
# Purpose: Development with MongoDB Atlas + Upstash Redis
# =================================

# =================================
# Server Configuration
# =================================
NODE_ENV=development
PORT=5000
HOST=0.0.0.0
BASE_URL=http://localhost:5000

# =================================
# Database Configuration (Cloud)
# =================================
# MongoDB Atlas Connection
# TODO: Replace with your actual MongoDB Atlas connection string
MONGODB_URI=mongodb+srv://gacp_admin:YOUR_PASSWORD@gacp-cluster.xxxxx.mongodb.net/gacp_production?retryWrites=true&w=majority
MONGODB_DATABASE=gacp_production

# MongoDB Connection Options
MONGODB_MAX_POOL_SIZE=10
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_SOCKET_TIMEOUT_MS=45000
MONGODB_MIN_POOL_SIZE=2

# =================================
# Redis Configuration (Upstash Cloud)
# =================================
# Option 1: Redis URL (Recommended)
# TODO: Replace with your actual Upstash Redis URL
REDIS_ENABLED=true
REDIS_URL=redis://default:YOUR_REDIS_PASSWORD@redis-12345.upstash.io:6379

# Option 2: REST API (Alternative - uncomment if using this)
# UPSTASH_REDIS_REST_URL=https://redis-12345.upstash.io
# UPSTASH_REDIS_REST_TOKEN=YOUR_TOKEN

REDIS_DB=0
REDIS_TTL=3600

# =================================
# Security Configuration
# =================================
# JWT Tokens (Generate new secrets for production!)
JWT_SECRET=sprint1-jwt-secret-key-min-32-characters-change-in-prod-2025
JWT_REFRESH_SECRET=sprint1-refresh-token-secret-min-32-chars-change-2025
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ALGORITHM=HS256

# Session Security
SESSION_SECRET=sprint1-session-secret-min-32-characters-change-in-production
SESSION_NAME=gacp.sid
SESSION_MAX_AGE=86400000

# Password hashing
BCRYPT_ROUNDS=12

# OTP Configuration
OTP_EXPIRY=300
OTP_LENGTH=6

# =================================
# CORS Configuration
# =================================
# All frontend portals
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3002,http://localhost:3003,http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# =================================
# Frontend URLs
# =================================
FARMER_PORTAL_URL=http://localhost:3001
CERTIFICATE_PORTAL_URL=http://localhost:3002
ADMIN_PORTAL_URL=http://localhost:3003

# =================================
# File Upload Configuration
# =================================
UPLOAD_PATH=./uploads
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/jpg,application/pdf
VIRUS_SCAN_ENABLED=false

# =================================
# AWS S3 Configuration (Setup before Sprint 1)
# =================================
# TODO: Configure before November 1, 2025
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=gacp-platform-uploads
AWS_S3_ENABLED=false

# =================================
# SMS Configuration (Twilio - Setup before Sprint 1)
# =================================
# TODO: Configure before November 1, 2025
TWILIO_ENABLED=false
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+66xxxxxxxxx
TWILIO_VERIFY_SERVICE_SID=your-verify-service-sid

# =================================
# Email Configuration (Setup before Sprint 1)
# =================================
# TODO: Configure before November 1, 2025
EMAIL_ENABLED=false
EMAIL_FROM=noreply@gacp-platform.com
EMAIL_FROM_NAME=GACP Platform

# Option 1: SendGrid
SENDGRID_API_KEY=your-sendgrid-api-key

# Option 2: AWS SES
AWS_SES_REGION=ap-southeast-1

# Option 3: SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# =================================
# Logging Configuration
# =================================
LOG_LEVEL=debug
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14
LOG_TIMESTAMP=true
LOG_COLORIZE=true

# =================================
# Rate Limiting
# =================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_API_MAX=50
RATE_LIMIT_AUTH_MAX=5

# =================================
# Performance Configuration
# =================================
REQUEST_TIMEOUT=30000
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
CACHE_TTL=3600

# =================================
# Monitoring & Metrics
# =================================
ENABLE_METRICS=true
METRICS_INTERVAL=60000
MEMORY_MONITORING=true
HEALTH_CHECK_ENABLED=true

# =================================
# API Keys
# =================================
VALID_API_KEYS=sprint1-api-key-1,sprint1-api-key-2

# =================================
# Feature Flags (Sprint 1)
# =================================
ENABLE_SWAGGER=true
ENABLE_CORS=true
ENABLE_COMPRESSION=true
ENABLE_SECURITY_HEADERS=true
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_STACK=true

# =================================
# Development Tools
# =================================
ENABLE_DEBUG_MODE=true
ENABLE_QUERY_LOGGING=false
ENABLE_PROFILING=false

# =================================
# Backup Configuration (Disabled for Sprint 1)
# =================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =================================
# Sprint 1 Specific Configuration
# =================================
SPRINT_NUMBER=1
SPRINT_START_DATE=2025-11-01
SPRINT_END_DATE=2025-11-10
DEPLOYMENT_ENVIRONMENT=sprint1-dev-cloud
